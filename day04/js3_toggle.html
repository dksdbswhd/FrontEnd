<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>자바스크립트 예제 #3</title>
</head>

<body>

<h2>자바스크립트로 이런석도 해봅시다.</h2>
<p>HTML 태그의 속성값 변경하기 : img 태그의 이미지 파일명을 지정하는 <strong>src 속성값을 변경</strong>하는 예제입니다.</p>
<p>HTML 태그의 style값 변경하기 : em 태그의 텍스트 <strong>스타일 color값</strong>을 변경하는 예제 입니다.</p>
<p>전구를 클릭해 보세요. 현재 상태  <em id="state" style="color:  green;">OFF</em></p>

<button onclick="bulbOn()">전구 켜기</button>
<img src="../images/pic_bulboff.gif" alt="light" style="width:300px;cursor: pointer;" id="myimage"
                                     onclick="bulbToggle()">
<button onclick="bulbOff()">전구 끄기</button>
<!-- body 안에 있는 것들 순서대로 실행된다. img 태그가 script 뒤에 있으면 오류 : 변수 호이스팅 때문에 onoff 가 null -->
<script>
    let state=1; //전역변수. 1이면 ON, 0이면 OFF
    const img = document.getElementById('myimage'); //태그 요소를 가져와 변수로 참조. const 는 값의 변경을 안할때 사용
    const onoff = document.getElementById('state');
    function bulbToggle() {
        if(state==1) {
            bulbOff();
            state=0;
        }else { //현재 0입니다.
            bulbOn();
            state=1;
        }
    }
    
    function bulbOn() { // img, onoff 변수를 사용해 출력
        img.src='../images/pic_bulbon.gif';
        onoff.style.color='green';
        onoff.innerHTML='ON'
    }
    
    function bulbOff() {
        img.src='../images/pic_bulboff.gif';
        onoff.style.color='red';
        onoff.innerHTML='OFF'
    }

</script>

</body>
</html>